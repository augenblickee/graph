<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Рабочий график</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        h1 {
            text-align: center;
            font-size: 24px;
            margin-top: 10px;
        }
        #worker {
            font-size: 32px;
            color: green;
            text-align: center;
            margin: 10px 0;
        }
        .iframe-container {
            position: relative;
            width: 100%;
            height: 90vh; /* Высота контейнера для iframe */
            overflow: hidden; /* Скрыть прокрутку */
        }
        iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        @media (max-width: 600px) {
            h1 {
                font-size: 20px;
            }
            #worker {
                font-size: 24px;
            }
            iframe {
                transform: scale(1); /* Масштабирование только для мобильной версии */
                transform-origin: 0 0; /* Настройка точки масштабирования */
                height: 140%; /* Увеличиваем высоту для улучшения видимости */
            }
        }
    </style>
</head>
<body>
    <h1>Кто сейчас работает?</h1>
    <div id="worker">Загрузка...</div>
    <div class="iframe-container">
        <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTK40_61X6tohrrwyPfrjFiEm5WPp668iRg8bXJ6jD20L1AIWODVnMJxKfnBfuaxA/pubhtml?gid=1991725212&amp;single=true&amp;widget=true&amp;headers=false"></iframe>
    </div>
    <script>
        // Определяем текущее время и день недели
        function getCurrentTime() {
            let now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            if (minutes < 10) {
                minutes = '0' + minutes;
            }
            if (hours < 10) {
                hours = '0' + hours;
            }
            return hours + ':' + minutes;
        }

        function getCurrentDay() {
            let days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
            let now = new Date();
            return days[now.getDay()];
        }

        // Функция для проверки, кто сейчас работает
        function whoIsWorkingNow() {
            let currentTime = getCurrentTime();
            let currentDay = getCurrentDay();
            let worker = "Неучебное время";
            let phone = "";  // Переменная для хранения номера телефона

            // Расписание
            switch (currentDay) {
                case "Monday":
                    if (currentTime >= "08:00" && currentTime <= "21:00") {
                        worker = "Максим";
                        phone = "+79963790514"; // Номер телефона Максима
                    }
                    break;

                case "Tuesday":
                case "Wednesday":
                case "Thursday":
                    if (currentTime >= "08:00" && currentTime < "12:00") {
                        worker = "Максим";
                        phone = "+79963790514"; // Номер телефона Максима
                    } else if (currentTime >= "12:00" && currentTime <= "21:00") {
                        worker = "Иван";
                        phone = "+79963827993"; // Номер телефона Ивана
                    }
                    break;

                case "Friday":
                    if (currentTime >= "08:00" && currentTime <= "21:00") {
                        worker = "Иван";
                        phone = "+79963827993"; // Номер телефона Ивана
                    }
                    break;

                case "Saturday":
                    if (currentTime >= "08:00" && currentTime < "12:00") {
                        worker = "Иван";
                        phone = "+79963827993"; // Номер телефона Ивана
                    } else if (currentTime >= "12:00" && currentTime <= "19:00") {
                        worker = "Максим";
                        phone = "+79963790514"; // Номер телефона Максима
                    }
                    break;

                case "Sunday":
                    worker = "Выходной";
                    phone = ""; // В выходной нет номера телефона
                    break;
            }

            // Выводим, кто сейчас работает с возможностью звонка
            if (phone) {
                document.getElementById("worker").innerHTML = `<a href="tel:${phone}" style="color:green; text-decoration:none;">${worker}</a>`;
            } else {
                document.getElementById("worker").innerText = worker;
            }
        }

        // Запускаем функцию при загрузке страницы
        whoIsWorkingNow();

        // Обновляем каждую минуту, чтобы информация была актуальной
        setInterval(whoIsWorkingNow, 60000);
    </script>
</body>
</html>
